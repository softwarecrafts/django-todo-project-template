{% extends "base.html" %}
{% block page_title %}Dashboard{% endblock page_title %}


{% block main_content %}
    <h2>My Projects</h2>

    <dl>
        {% for project in my_projects %}
        <dt><a href="{% url 'project_detail' project.pk %}">{{ project.name }}</a></dt>
        <dd>{{ project.description }}</dd>
        {% endfor %}
    </dl>

    <h2>Task due Today</h2>
        <table>
            <thead>
                <tr>
                    <th>Task Name</th>
                    <th>Reported By</th>
                    <th>Assigned To</th>
                    <th>Due Date</th>
                    <th>Created</th>
                </tr>
            </thead>
            <tbody>
                {% for task in todays_tasks %}
                    <tr>
                        <td><a href="{% url 'task_detail' task.pk %}">{{ task.name }}</a></td>
                        <td>{{ task.reported_by }}</td>
                        <td>{{ task.assigned_to }}</td>
                        <td>{{ task.due_date }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

    <h2>My Tasks</h2>
        <table>
            <thead>
                <tr>
                    <th>Task Name</th>
                    <th>Reported By</th>
                    <th>Assigned To</th>
                    <th>Due Date</th>
                    <th>Created</th>
                </tr>
            </thead>
            <tbody>
                {% for task in my_tasks %}
                    <tr>
                        <td><a href="{% url 'task_detail' task.pk %}">{{ task.name }}</a></td>
                        <td>{{ task.reported_by }}</td>
                        <td>{{ task.assigned_to }}</td>
                        <td>{{ task.due_date }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
{% endblock main_content %}
